<div class="dynamic-form-widget" id="{{ config.anchor|default:'' }}">
    {% if form_error %}
        <div class="p-4 bg-red-50 text-red-700 rounded-lg border border-red-200">
            {{ form_error }}
        </div>
    {% elif form_definition %}
        <div class="form-container" data-form-name="{{ form_definition.name }}">
            {% if config.show_title %}
                <h2 class="text-2xl font-bold mb-2">{{ form_definition.label }}</h2>
            {% endif %}
            
            {% if config.show_description and form_definition.description %}
                <p class="text-gray-600 mb-6">{{ form_definition.description }}</p>
            {% endif %}

            <!-- The React app will mount the actual form here -->
            <div id="form-mount-{{ form_definition.name }}" class="dynamic-form-mount" 
                 data-form-config='{{ form_definition.fields|safe }}'
                 data-form-name="{{ form_definition.name }}">
                <div class="animate-pulse space-y-4">
                    <div class="h-10 bg-gray-100 rounded"></div>
                    <div class="h-10 bg-gray-100 rounded"></div>
                    <div class="h-32 bg-gray-100 rounded"></div>
                    <div class="h-12 bg-blue-100 rounded w-1/4"></div>
                </div>
            </div>
        </div>
    {% else %}
        <div class="p-8 text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl text-gray-400">
            No form selected. Edit widget configuration to choose a form.
        </div>
    {% endif %}
</div>

